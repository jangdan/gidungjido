<!doctype html>

<html>

	<head>

		<meta charset = "utf-8">

		<meta name = "description" content = "a 3D bar graph of the world">
		<meta name = "keywords" content = "gidungjido, 3D, bar graph, world, WebGl, three.js, GDP, population, visualization">

        <meta name = "viewport" content = "width = device-width, initial-scale = 1, maximum-scale = 1, minimum-scale = 1, user-scalable = no">



		<link rel = "stylesheet" href = "css/gidungjido.css">




		<title>기둥地圖</title>




		<script src = "libraries/three.min.js" type = "text/javascript"></script>
		<script src = "libraries/Tween.js" type = "text/javascript"></script>

	</head>


	<body>

		<div id = "menu" class = "overlay crt">




			<div id = "loading">
				
				loading...

			</div>




			<div id = "loaded" style = "display: none">

				<h1 lang = "ko">기둥<ruby><rb>地</rb><rt>지</rt><rb>圖</rb><rt>도</rt></ruby></h1>


				<h2>controls</h2>

				<p>

					move around with the <span class = "roundedborder">w</span> <span class = "roundedborder">a</span> <span class = "roundedborder">s</span> <span class = "roundedborder">d</span> keys, <span class = "roundedborder">shift</span> to go up, <span class = "roundedborder">space</span> to go down. scroll to zoom in and out.<br>

					press <span class = "roundedborder">p</span> to save the current frame as an image.<br>

					press <span class = "roundedborder">i</span> to hide/show country information.<br>

					<!--<span class = "roundedborder">l</span>: lock camera rotation<br>-->


					press <span class = "roundedborder">esc</span> to toggle this menu<br>

				</p>


				<h2>settings</h2>

				<p>

					overall height: <input type = "range" id = "maximumheight" min = "10" value = "40" max = "100" oninput = "maximumheightinput()"><br>


					height contrast: <input type = "range" id = "contrast" min = "10" value = "30" max = "50" oninput = "contrastinput()"><br>



					<input type = "checkbox" id = "countryinfocheckbox" checked = "checked" onclick = "countryinfocheckboxclicked()"> show country information (keyboard shortcut <span class = "roundedborder">i</span>)<br>

					<!--<input type = "checkbox" checked = "checked"> continuous mouse movement (keyboard shortcut <span class = "roundedborder">l</span>)<br>-->



					material/texture: <select id = "material" onchange = "materialchange()">
						<!--javascript will add stuff here-->
					</select><br>



					<!--<input type = "checkbox" id = "shadowcheckbox" checked = "checked" onclick = "shadowcheckboxclicked()"> cast shadows (requires more computing power)<br>-->



					<br>



					<button type = "button" onclick = "defaultsettings()">default settings</button><br>


					source data: <select id = "source" onchange = "sourcechange()">
						<!--javascript will add stuff here-->
					</select>

				</p>

				<br>

				<p>

					note: this website uses <a href = "https://en.wikipedia.org/wiki/WebGL">WebGL</a>, which seems to work best on <a href = "https://www.google.com/chrome/">Google Chrome</a>.<br>

					you also need a keyboard, sorry mobile users

				</p>

			</div>

		</div>




		<div id = "countryinfo" class = "crt" style = "display: none"> <!-- initially hidden -->
			<!-- javascript will add stuff here -->
		</div>




		<script src = "js/Dataset.js" type = "text/javascript"></script>
		<script src = "js/Country.js" type = "text/javascript"></script>
		<script src = "js/gidungjido.js" type = "text/javascript"></script>



		<script type = "text/javascript"> //DOM-related


			//set min, max, value attributes for the sliders

			var maximumheight = document.getElementById("maximumheight");

			maximumheight.min = MAXIMUM_COUNTRY_HEIGHT_MINIMUM * SLIDER_RESOLUTION;
			maximumheight.max = MAXIMUM_COUNTRY_HEIGHT_MAXIMUM * SLIDER_RESOLUTION;

			maximumheight.value = DEFAULT_MAXIMUM_COUNTRY_HEIGHT * SLIDER_RESOLUTION;



			var contrast = document.getElementById("contrast");

			contrast.min = CONTRAST_MINIMUM * SLIDER_RESOLUTION;
			contrast.max = CONTRAST_MAXIMUM * SLIDER_RESOLUTION;

			contrast.value = DEFAULT_CONTRAST * SLIDER_RESOLUTION;




			var sourceselect = document.getElementById("source");

			sourceselect.innerHTML = "";


			sourceselect.innerHTML +=
				"<optgroup label = 'preloaded'>\n"
			;

			for(i = 0; i < PRELOADED_DATA_INDICIES.length; ++i){
				sourceselect.innerHTML +=
					"<option value = '"+i+"'>"+PRELOADED_DATA_INDICIES[i]+"</option>\n"
				;
			}


			sourceselect.innerHTML +=
				"<optgroup label = 'The World Bank'>\n"
			;

			/*
			for(i = 0; i < PRELOADED_DATA_INDICIES.length; ++i){
				sourceselect.innerHTML +=
					"<option value = '"+i+"'>"+PRELOADED_DATA_INDICIES[i]+"</option>\n"
				;
			}
			*/


			sourceselect.innerHTML +=
				"</optgroup>"
			;




			var materialselect = document.getElementById("material");

			materialselect.innerHTML = "";


			/*
			materialselect.innerHTML +=
				"<optgroup label = ''>\n"
			;
			*/

			for(i = 0; i < MATERIAL_INDICIES.length; ++i){
				materialselect.innerHTML +=
					"<option value = '"+i+"'>"+MATERIAL_INDICIES[i]+"</option>\n"
				;
			}

			/*
			materialselect.innerHTML +=
				"</optgroup>"
			;
			*/


			materialselect.value = DEFAULT_MATERIAL;





			//events

			function maximumheightinput(){

				MAXIMUM_COUNTRY_HEIGHT = maximumheight.value / SLIDER_RESOLUTION;

				updatecountryheights();

			}


			function contrastinput(){

				CONTRAST = contrast.value / SLIDER_RESOLUTION;

				updatecountryheights();

			}



			function countryinfocheckboxclicked(){

				SHOW_INFO = document.getElementById("countryinfocheckbox").checked;

				revalidateinfo();

			}



			function materialchange(){
				setMaterial( materialselect.value );
			}




			function defaultsettings(){

				maximumheight.value = DEFAULT_MAXIMUM_COUNTRY_HEIGHT * SLIDER_RESOLUTION;

				maximumheightinput();



				contrast.value = DEFAULT_CONTRAST * SLIDER_RESOLUTION;

				contrastinput();

			}



			function sourcechange(){
				setheightdatasource( sourceselect.value );
			}


			defaultsettings();

		</script>

	</body>

</html>